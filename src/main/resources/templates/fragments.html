<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!-- Header Section Begin -->
<div class="header-section header-normal" th:fragment="header">

    <div class="container-fluid">
        <div class="logo">
            <a href="/">
                <img src="img/logo.png" alt="">
            </a>
        </div>
        <div class="top-social">
            <a href="https://wa.me/79620490947" target="_blank"><i class="fa fa-whatsapp"></i></a>
            <a sec:authorize="!isAuthenticated()" href="/login"><i class="fa fa-user" aria-hidden="true"></i></a>
            <a sec:authorize="isAuthenticated()" href="/logout"><i class="fa fa-sign-out" aria-hidden="true"></i></a>
            <a sec:authorize="hasAuthority('ADMIN')" href="/admin"><i class="fa fa-cogs" aria-hidden="true"></i></a>
            <a sec:authorize="hasAuthority('USER')" href="/lk"><i class="fa fa-user-circle" aria-hidden="true"></i></a>
        </div>
        <div class="container">
            <div class="nav-menu">
                <nav class="mainmenu mobile-menu">
                    <ul>
                        <li><a href="/">Главная</a></li>
                        <li th:classappend="${servletPath == '/gallery' ? 'active':''}"><a href="/gallery">Галерея</a>
                        </li>
                        <li th:classappend="${servletPath == '/sketches' ? 'active':''}"><a href="/sketches">Эскизы</a>
                        </li>
                        <li th:classappend="${servletPath == '/about-me' ? 'active':''}"><a href="/about-me">О бо
                            мне</a></li>
                        <li th:classappend="${servletPath == '/blog' ? 'active':''}"><a href="/blog">Блог</a></li>
                        <li th:classappend="${servletPath == '/reviews' ? 'active':''}"><a href="/reviews">Отзывы</a>
                        </li>
                        <li th:classappend="${servletPath == '/contact' ? 'active':''}"><a href="/contact">Контакты</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <div id="mobile-menu-wrap"></div>
    </div>
</div>
<!-- Header End -->
<!-- Cta Section Begin -->
<section class="cta-section" th:fragment="cta-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="cta-text">
                    <h3>Сделай сегодня</h3>
                    <p>Специальное предложение! Скидка 10% при регистрации на сайте!</p>
                </div>
                <a href="/registration" class="primary-btn cta-btn">Регистрация</a>
            </div>
        </div>
    </div>
</section>
<!-- Cta Section End -->
<!-- Footer Section Begin -->
<footer class="footer-section" th:fragment="footer">
    <div class="container">
        <div class="row">

            <div class="col-lg-3">
                <div class="footer-logo-item" th:each="current: ${setting}">
                    <div class="f-logo" th:if="${current.section=='logo'}">
                        <a href="/"><img th:src="@{'/images/'+${current.imageName}}" alt=""></a>
                    </div>
                    <div class="social-links" th:if="${current.section=='footer-title'}">
                        <h6 th:text="${current.textH1}"></h6>
                        <a href="https://vk.com/r1tattoo"><i class="fa fa-vk"></i></a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="footer-widget" th:each="current: ${setting}" th:if="${current.section=='footer-title'}">
                    <p th:text="${current.textH2}"></p>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="footer-widget">
                    <h5>Стили</h5>
                    <ul class="workout-program">
                        <li><a href="/gallery">Классический</a></li>
                        <li><a href="/gallery">Винтажный</a></li>
                        <li><a href="/gallery">Граффити</a></li>
                        <li><a href="/gallery">Готический</a></li>
                        <li><a href="/gallery">Кельтский</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="footer-widget">
                    <h5>ПОЛУЧИТЬ ИНФОРМАЦИЮ</h5>
                    <ul class="footer-info" th:object="${contactInfo}">
                        <li id="tell-footer">
                            <i class="fa fa-phone"></i>
                            <span>Телефон:</span>
                            [(*{tell})]
                        </li>
                        <li id="email-footer">
                            <i class="fa fa-envelope-o"></i>
                            <span>Email:</span>
                            [(*{email})]
                        </li>
                        <li id="address-footer">
                            <i class="fa fa-map-marker"></i>
                            <span>Адрес</span>
                            [(*{address})]
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="copyright-text">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="ct-inside">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;<script>document.write(new Date().getFullYear());</script>
                        All rights reserved | This template is made with <i class="fa fa-heart-o"
                                                                            aria-hidden="true"></i> by <a
                            href="https://colorlib.com" target="_blank">Colorlib</a>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --> </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- Footer Section End -->
<!-- first-fragment Section -->
<div class="tattoos-reviews" th:fragment="first-fragment">
    <h6>Мой тату </h6>
    <div class="row scroll-container">

        <div class="tattoos-user-reviews" style="width: 100%;" th:fragment="tattoos-user-reviews">
            <section class="review">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                    <div class="col " th:each="current : ${UserDTO.images}">
                        <div class="card-shadow-sm">

                            <img alt="" th:src="@{'/images/'+${current.imageName}}">

                            <!-- Добавьте больше элементов, если нужно -->
                        </div>
                    </div>
                </div>
            </section>
        </div>

    </div>

    <div class="row">
        <div class="container">
            <div class="row justify-content-center">
                <div class="card shadow-sm p-3 mb-5 bg-white rounded">
                    <form id="input-user-tattoos" action="/tattoos-user-import" method="POST" enctype="multipart/form-data" class="form-admin">
                        <div class="row mb-3 text-center">
                            <div class="col-6 col-lg-4 themed-grid-col">
                                <div class="avatar-container">
                                    <img id="previewimage" src="img/avatar.jpg" alt="Выберите фото тату">
                                    <button type="button" class="upload-btn btn btn-primary"
                                            onclick="document.getElementById('tattoos').click()">Выбрать файл
                                    </button>
                                    <input type="file" name="file" id="tattoos" accept="image/*" onchange="loadImage(this)" required>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-8 themed-grid-col">
                                <div class="input-group">
                                    <span class="input-group-text" style="height: 158px;">Текст</span>
                                    <textarea class="form-control" aria-label="С текстовым полем" required></textarea>
                                    <button onclick="uploadFragment($('#input-user-tattoos'), '.tattoos-reviews')" class="btn leave-btn btn-block" >Сохранить тату</button>
                                </div>


                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="profile-editing" th:fragment="profile-editing">
    <h6>Редактирование профиля </h6>
    <div class="row scroll-container">
        <form action="#" method="post" id="profile-form" th:object="${UserDTO}">
            <label for="username">Имя пользователя:</label>
            <input type="text" th:field="*{login}" id="username" name="username"
                   placeholder="Введите ваше имя пользователя" required><br><br>

            <label for="email">Email:</label>
            <input type="email" th:field="*{email}" id="email" name="email" placeholder="Введите ваш email"
                   required><br><br>

            <label for="password">Пароль:</label>
            <input type="password" id="password" name="password" placeholder="Введите новый пароль"><br><br>

            <label for="confirm-password">Подтверждение пароля:</label>
            <input type="password" id="confirm-password" name="confirm-password"
                   placeholder="Повторите новый пароль"><br><br>

            <button class="btn leave-btn btn-block" type="submit">Сохранить изменения</button>
        </form>
    </div>
    <div class="row">
        <div class="container">
            <div class="row justify-content-center">

                <div class="card shadow-sm p-3 mb-5 bg-white rounded">
                    <form id="input-avatar" action="/avatar-import" method="POST" enctype="multipart/form-data" class="form-admin">
                        <div class="row mb-3 text-center">

                            <div class="col-6 col-lg-4 themed-grid-col">


                                <div class="avatar-container">
                                    <img id="" src="img/avatar.jpg" alt="Ваш аватар">

                                    <button type="button" onclick="document.getElementById('avatar').click()" class="upload-btn btn btn-primary"
                                           >Выбрать файл
                                    </button>
                                    <input type="file" name="file" id="avatar"  accept="image/*" onchange="loadImage(this)">
                                </div>
                            </div>


                            <div class="col-sm-6 col-lg-8 themed-grid-col">


                                <div class="input-group">
                                    <span class="input-group-text" style="height: 158px; opacity: 0;">Текст</span>
                                    <textarea style="opacity: 0;" class="form-control" aria-label="С текстовым полем" ></textarea>
                                    <button onclick="uploadFragment($('#input-avatar'), '.profile-info')" class="btn leave-btn btn-block" >Сохранить аватар</button>
                                </div>


                            </div>

                        </div>
                    </form>
                </div>

            </div>

        </div>

    </div>
</div>
<div class="review-fragment" th:fragment="review-fragment">
    <h6>Мой отзывы</h6>
    <div class="row scroll-container">
        <div class="input-user-reviews" th:fragment="input-user-reviews">
            <section class="review" th:each="current : ${UserDTO.reviews}">
                <div class="review-header">
                    <img th:src="@{'/images/'+${current.imageName}}" alt="Фото автора отзыва" class="avatar">
                    <div class="author-info">

                        <p>[(${current.date})]</p>
                    </div>
                </div>
                <p class="review-text">[(${current.comment})]</p>
            </section>
        </div>
    </div>
    <div class="row">
        <div class="container">
            <div class="row justify-content-center">
                <div class="card shadow-sm p-3 mb-5 bg-white rounded">
                    <form id="file-review" method="POST" enctype="multipart/form-data" action="/reviews-user-import" class="form-admin">
                        <div class="row mb-3 text-center">
                            <div class="col-6 col-lg-4 themed-grid-col">
                                <div class="avatar-container">

                                    <img id="imageID" src="img/avatar.jpg" alt="Выберите тату для отзыва">
                                    <button type="button" class="upload-btn btn btn-primary" onclick="showModals()" id="" >Выбрать файл
                                    </button>
                                    <input type="file"  name="file"  id="avatar-input" accept="image/*" onchange="loadImage(this)">
                                    <input type="text" id="imageName"  style="display: none;" name="imageName">
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-8 themed-grid-col">
                                <div class="input-group">
                                    <span class="input-group-text" style="height: 158px;">Текст</span>
                                    <textarea class="form-control" name="Comment" aria-label="С текстовым полем"  required></textarea>
                                    <button onclick="uploadFragment($('#file-review'), '.input-user-reviews')" class="btn leave-btn btn-block" type="submit">Сохранить отзыв
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- first-fragment Section End -->
<div class="modal fade" id="infoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-labelledby="staticBackdropLabel" aria-hidden="true" th:fragment="modal">
    <div class="modal-img"  th:fragment="modal-img">
    <div class="modal-dialog modal-xl modal-dialog-centered " >
        <div class="modal-content" th:fragment="modal-content">
            <div class="modal-header">
                <h7 class="modal-title">Выберите тату</h7>
                <button type="button" id="hide" onclick="closeModal()"
                        class="btn-close btn-close-custom"
                        data-bs-dismiss="modal"
                        aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="gallery-filter">
                        <div class="row gallery-filter" th:each="currents: ${gallery.galleryImg}" >
                            <div class="col-lg-4 col-sm-6 mix crossfit workout " th:each="img: ${currents}">
                                <div class="gallery-modal" >

                                    <img onclick="hideModal(this.alt)" accept="image/*"  th:alt="${img.imageName}" th:src="@{'/images/'+${img.imageName}}">

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="blog-option">
                    <div class="blog-pagination">
                        <a th:if="${gallery.currentPage!=0}" th:onclick="goToPageGalleryReviews([[${gallery.currentPage -1}]], [[${gallery.number}]])"
                           id="fa-long-arrow-left" type="submit"><i
                                class="fa fa-long-arrow-left"></i></a>
                        <a class="active">[[${gallery.currentPage+1}]]</a>
                        of
                        <a>[[${gallery.pageSize}]]</a>
                        <a th:if="${gallery.currentPage+1 != gallery.pageSize}" th:onclick="goToPageGalleryReviews([[${gallery.currentPage +1}]], [[${gallery.number}]])" id="fa-long-arrow-right" type="submit"><i
                                class="fa fa-long-arrow-right"></i></a>
                    </div>
                    <div class="blog-option-right">
                        <div class="blog-result">Showing [[${gallery.currentPage+1}]]–[[${gallery.pageSize}]] of [[${gallery.imagesTotal}]]
                            results
                        </div>
                        <div class="show-result">
                            <p>Show:</p>
                            <select class="show-result-select" th:onchange="goToPageGalleryReviews([[${gallery.currentPage}]], this.value)" id="number">
                                <option th:each="option : ${gallery.select}" th:value="${option}" th:text="${option}"
                                        th:selected="${option == gallery.number}"></option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>
<!-- Модальное окно End -->
</body>
</html>